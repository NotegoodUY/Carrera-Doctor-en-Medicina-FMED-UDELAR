/* ================================
   Notegood.uy â€” Estilos principales
   ================================ */

/* Paleta */
:root{
  --bg:#ffffff;
  --text:#111827;
  --muted:#6b7280;

  --brand:#6c5ce7;         /* violeta Notegood */
  --brand-2:#9a7bff;       /* violeta claro */
  --accent:#00bfa6;        /* aqua */
  --line:#e5e7eb;

  --chip:#eef2ff;
  --chip-b:#c7d2fe;

  --ok:#10b981;
  --warn:#ff9f68;
  --bad:#ff6b6b;

  --card:#f9f9fb;
  --shadow:0 1px 2px rgba(15,23,42,.06), 0 10px 28px rgba(15,23,42,.05);
}

/* Dark mode */
body.dark{
  --bg:#0b1020;
  --text:#e5e7eb;
  --muted:#a0aec0;
  --brand:#8b7dff;
  --brand-2:#a899ff;
  --accent:#03c9b5;
  --line:#1f2a44;
  --chip:#141e3a;
  --chip-b:#26345c;
  --card:#0f162b;
  --shadow:0 1px 2px rgba(0,0,0,.35), 0 10px 28px rgba(0,0,0,.35);
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Header */
.header{
  background:linear-gradient(90deg,var(--brand),var(--brand-2));
  color:#fff;
  padding:14px 12px 16px;
  border-bottom:1px solid rgba(255,255,255,.18);
}
.header-buttons{
  display:flex; align-items:center; gap:.6rem; flex-wrap:wrap;
}
.header-buttons button,
.header-buttons .brand{
  border:1px solid rgba(255,255,255,.35);
  background:rgba(255,255,255,.12);
  color:#fff; padding:.5rem .8rem; border-radius:12px;
  font-weight:600; cursor:pointer; backdrop-filter:saturate(120%) blur(2px);
}
.header-buttons button:hover{ background:rgba(255,255,255,.18) }
.header-buttons .brand{ font-weight:700; letter-spacing:.2px }

/* Toggle tema */
.theme-toggle{ position:relative; display:inline-flex; align-items:center; gap:.35rem; }
.theme-toggle input{ display:none }
.theme-toggle .slider{
  --w:46px; --h:24px;
  width:var(--w); height:var(--h); border-radius:999px;
  background:rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.35);
  position:relative; display:inline-block;
}
.theme-toggle .slider::after{
  content:''; position:absolute; top:2px; left:2px; width:20px; height:20px;
  background:#fff; border-radius:999px; transition:left .18s ease;
}
.theme-toggle input:checked + .slider::after{ left:calc(100% - 2px - 20px) }
.theme-toggle i{ color:#fff; opacity:.9 }

/* TÃ­tulo y subtÃ­tulo */
main{ padding:10px 14px 24px }
h1{
  text-align:center; margin:.6rem 0 .4rem;
  font-size:clamp(24px, 4.8vw, 44px); line-height:1.15; font-weight:800;
}
h1 span{ text-decoration:underline; text-decoration-thickness:5px; text-decoration-color:rgba(255,255,255,.4) }
.subtitulo{
  text-align:center; margin:.15rem 0 .9rem; font-weight:600; color:#ffffff;
  opacity:.95;
}

/* Progreso */
.progress-container{
  max-width:900px; margin:0 auto .6rem; display:flex; align-items:center; gap:.6rem;
}
.progress-container::before{
  content:''; flex:1; height:12px; border-radius:999px; background:rgba(255,255,255,.25);
  position:relative; box-shadow:inset 0 0 0 3px rgba(255,255,255,.15);
}
#progressBar{
  position:absolute; height:12px; border-radius:999px; width:0%;
  background:linear-gradient(90deg, var(--bad), var(--warn));   /* se ajusta por JS si querÃ©s */
}
.progress-container{ position:relative }
#progressPercent{ color:#fff; font-weight:800; min-width:42px; text-align:right }

/* Leyenda y stats */
.legend{
  display:flex; flex-wrap:wrap; gap:.6rem; justify-content:center; margin:.6rem auto 1rem;
}
.status{
  background:rgba(255,255,255,.18); border:1px solid rgba(255,255,255,.25);
  color:#fff; border-radius:999px; padding:.25rem .6rem; font-size:.9rem; font-weight:600;
  display:inline-flex; align-items:center; gap:.45rem;
}
.stats-footer{
  text-align:center; color:var(--muted); font-weight:600; margin:.25rem 0 1rem;
}

/* Contenedor malla */
#mallaContainer{
  display:flex; flex-wrap:wrap; justify-content:center; gap:1rem; padding:0 .4rem;
}

/* Columnas por aÃ±o */
.year{
  min-width:280px; background:var(--card); border:1px solid var(--line);
  border-radius:14px; box-shadow:var(--shadow);
  padding:1rem; flex:1 1 340px; max-width:560px;
}
.year h2{ text-align:center; margin:.2rem 0 .6rem }

/* Semestres */
.sem{
  background:var(--chip); border:1px solid var(--chip-b);
  border-radius:12px; padding:.65rem; margin:.65rem 0;
}
.sem h3{ margin:.1rem 0 .55rem; color:var(--accent) }

/* Materia */
.materia{
  background:#fff; color:var(--text); border:1px solid var(--line);
  border-radius:12px; padding:.65rem .75rem; margin:.4rem 0;
  display:flex; align-items:center; justify-content:space-between; gap:.6rem;
  cursor:pointer; position:relative; padding-left:2rem;
  transition:transform .06s, border-color .15s, box-shadow .15s, background-color .15s;
}
body.dark .materia{ background:#0f162b; color:var(--text) }
.materia:hover{ border-color:#cbd5e1; box-shadow:0 0 0 3px rgba(108,92,231,.10); transform:translateY(-1px) }

/* Punto a la izquierda */
.materia::before{
  content:''; position:absolute; left:.6rem; top:50%; transform:translateY(-50%);
  width:1.05rem; height:1.05rem; border-radius:999px; border:2px solid #cbd5e1; background:#fff;
}
body.dark .materia::before{ border-color:#2c3a66; background:#101a33 }

/* Estados */
.materia.bloqueada{ background:#f7f7f7; color:var(--muted); pointer-events:none }
body.dark .materia.bloqueada{ background:#121a30; color:#8fa1c2 }
.materia.bloqueada::before{ content:'ðŸ”’'; width:auto; height:auto; border:none; background:transparent }
.materia.tachada{ opacity:.95; color:#065f46; background:#ecfdf5; border-color:#bbf7d0 }
.materia.tachada::before{ content:'âœ“'; color:#fff; background:var(--ok); border:none; display:grid; place-items:center; font-weight:800 }

/* BotÃ³n Notas + chip de nota */
.actions{ display:flex; align-items:center; gap:.45rem; }
.note-btn{
  display:inline-flex; align-items:center; gap:.3rem; cursor:pointer;
  padding:.28rem .52rem; border-radius:10px; border:1px solid var(--line);
  background:rgba(0,0,0,.02); font-weight:600; font-size:.9rem;
}
.note-btn:hover{ background:rgba(0,0,0,.05) }
.materia.has-note .note-btn{ border-color:#8b5cf6; box-shadow:0 0 0 2px rgba(139,92,246,.15) }
.grade-chip{
  font-weight:700; font-size:.85rem; padding:.15rem .5rem; border-radius:999px; border:1px solid transparent;
}
.grade-high{ background:#ecfdf5; color:#065f46; border-color:#bbf7d0 }
.grade-mid{ background:#fff7ed; color:#7c2d12; border-color:#fed7aa }
.grade-low{ background:#ffecec; color:#7f1d1d; border-color:#fecaca }

/* Tooltip de previas (opcional con data-tip) */
.materia[data-tip]:hover::after{
  content:attr(data-tip); position:absolute; left:10px; right:10px; bottom:100%; transform:translateY(-6px);
  background:#111827; color:#f9fafb; border:1px solid rgba(255,255,255,.1);
  padding:.5rem .6rem; border-radius:10px; font-size:.8rem; line-height:1.2; white-space:pre-wrap; box-shadow:var(--shadow)
}

/* Modal de notas (del index que me pasaste) */
.modal{ display:none; position:fixed; z-index:9999; inset:0; background:rgba(0,0,0,.4); }
.modal-content{
  background:var(--card); border:1px solid var(--line); border-radius:14px;
  width:min(680px, 92vw); margin:9vh auto 0; padding:1rem; box-shadow:var(--shadow); color:var(--text);
}
.modal-content h2{ margin:.2rem 0 .6rem }
.modal-content textarea{
  width:100%; min-height:180px; resize:vertical; border:1px solid var(--line);
  border-radius:10px; padding:.6rem; background:#fff; color:#111827; font-family:inherit; font-size:.95rem;
}
body.dark .modal-content textarea{ background:#0f162b; color:#e5e7eb; border-color:#22335d }
.modal-content button{
  margin-top:.6rem; padding:.5rem .8rem; border-radius:10px; border:1px solid transparent;
  background:var(--brand); color:#fff; font-weight:700; cursor:pointer;
}
.close{ float:right; font-size:22px; cursor:pointer }

/* FAB Instagram */
.instagram-btn{
  position:fixed; right:16px; bottom:18px; width:54px; height:54px; display:grid; place-items:center; border-radius:999px;
  background:linear-gradient(135deg, #ff6a88, #8a2be2); color:#fff; text-decoration:none; box-shadow:0 14px 30px rgba(0,0,0,.24);
  border:1px solid rgba(255,255,255,.22); z-index:9990; font-size:22px;
}
.instagram-btn:hover{ transform:translateY(-2px) }

/* ======================
   Responsive Notegood
   ====================== */

/* Tablets / pantallas medianas */
@media (max-width: 820px){
  .header-buttons{ gap:.5rem }
  .header-buttons button,.header-buttons .brand{ padding:.42rem .62rem }

  h1{ font-size: clamp(22px, 5.5vw, 36px); }
  .subtitulo{ font-size: clamp(13px, 3.8vw, 18px); }

  .progress-container{ margin-top:.4rem }
  #progressPercent{ min-width:52px }

  #mallaContainer{ padding:.6rem }
  .year{ min-width:100%; padding:.9rem }
  .sem{ padding:.6rem }
  .materia{ gap:.5rem; padding:.6rem .65rem .6rem 2rem }
  .legend{ gap:.5rem }
  .status{ font-size:.85rem }
}

/* TelÃ©fonos chicos */
@media (max-width: 420px){
  .header-buttons .brand{ height:36px; padding:0 12px; font-size:.92rem }
  .theme-toggle .slider{ --w:44px; --h:24px }

  h1{ font-size: clamp(20px, 7vw, 30px) }
  .subtitulo{ font-size: clamp(12px, 4vw, 16px) }

  .grade-chip{ display:none }              /* oculta chip si no hay espacio */
  .note-btn .nb-label{ display:none }      /* solo icono en botones de notas */

  .instagram-btn{ right:12px; bottom:14px; width:48px; height:48px; font-size:18px }
}
